
$(document).ready(function(){$("#data").datepicker({minDate:0,dateFormat:"dd/mm/yy"});$("#classe").select2();$("#aeroporto_da , #aeroporto_a").select2({ajax:{url:__site_url+"/"+__xhr_controller+"/xhr_search_aeroporto",dataType:"json",delay:250,data:function(a){return{q:a.term}},processResults:function(c,b){var a=[];$.each(c,function(e,d){var f={};f.id=d.sigla;f.name=d.nome;f.value=d.sigla;f.citta=d.nome_citta;f.paese=d.nome_paese;f.code2=d.code2;a.push(f)});return{results:a}},cache:true},placeholder:"Seleziona un aeroporto",escapeMarkup:function(a){return a},minimumInputLength:2,templateResult:formatAeroporto,templateSelection:function(a){return a.name||a.text}});$(".tratta-preferita").click(function(){var a=$(this);$("#aeroporto_da").append('<option value="'+a.data("from")+'" selected="selected">'+a.data("name_from")+"</option>");$("#aeroporto_da").trigger("change");$("#aeroporto_a").append('<option value="'+a.data("to")+'" selected="selected">'+a.data("name_to")+"</option>");$("#aeroporto_a").trigger("change")})});