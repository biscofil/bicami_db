
$(document).ready(function(){adminInit("Nuovo aeroplano","Modifica aeroplano","xhr_aeroplani","xhr_elimina_aeroplani","Aeroplani eliminati");$("#btn_save").click(function(){if(requiredFieldsCheck()){bootbox.confirm("Procedere?",function(a){if(a){$.ajax({type:"POST",cache:false,url:__site_url+"/"+__xhr_controller+"/xhr_nuovo_aeroplano",data:{nome:$("#nome").val(),posti_economy:$("#posti_economy").val(),posti_business:$("#posti_business").val()}}).done(function(b){if(b.result===1){_modal.modal("hide");$.notify("Aeroplano inserito","success");table.ajax.reload(null,false)}else{$.notify(b.error,"error")}})}})}});$("#btn_update").click(function(){if(requiredFieldsCheck()){bootbox.confirm("Procedere?",function(a){if(a){$.ajax({type:"POST",cache:false,url:__site_url+"/"+__xhr_controller+"/xhr_modifica_aeroplano",data:{id:editing_old_id,nome:$("#nome").val(),posti_economy:$("#posti_economy").val(),posti_business:$("#posti_business").val()}}).done(function(b){if(b.result===1){_modal.modal("hide");$.notify("Aeroplano modificato","success");table.ajax.reload(null,false)}else{$.notify(b.error,"error")}})}})}});$("#btn_edit").click(function(){editing_old_id=$(".selected:first").data("id");$.ajax({type:"POST",cache:false,url:__site_url+"/"+__xhr_controller+"/xhr_aeroplano",data:{id:editing_old_id}}).done(function(a){if(a.result===1){_modal.find("#nome").val(a.aeroplano.nome);_modal.find("#posti_economy").val(a.aeroplano.posti_economy);_modal.find("#posti_business").val(a.aeroplano.posti_business);_modal.modal("show")}else{$.notify(a.error,"error")}})})});